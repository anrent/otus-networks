# Настройка DHCPv4

### Топология

![Image alt](https://github.com/anrent/otus-networks/blob/main/labs/lab03/DHCPv4/topo.png)

### Таблица адресации


| Device  | Interface          |IP Address    |Subnet Mask    |Default Gateway|
| -------:| ------------------:| ------------:| -------------:| :-------------|
| R1      | F0/1               | 10.0.0.1     |255.255.255.252| N/A           |
|         | F0/0               | N/A          |N/A            | N/A           |
|         | F0/0.100           | 192.168.1.1  |255.255.255.192| N/A           |
|         | F0/0.200           | 192.168.1.65 |255.255.255.224| N/A           |
|         | F0/0.1000          | N/A          |N/A            | N/A           |
| R2      | F0/1               | 10.0.0.2     |255.255.255.252| N/A           |
|         | F0/0               | 192.168.1.97 |255.255.255.240| N/A           |
| S1      | VLAN 200           | 192.168.1.66 |255.255.255.224| 192.168.1.65  |
| S2      | VLAN 1             | 192.168.1.98 |255.255.255.240| 192.168.1.97  |
| PC-A    | NIC                | DHCP         |DHCP           | DHCP          |
| PC-B    | NIC                | DHCP         |DHCP           | DHCP          |



### Таблица VLAN

| VLAN    | Name             |Interface Assigned            |
| :-------|:-----------------| :----------------------------| 
| 1       | N/A              | S2: F0/18                    |
| 100     | Clients          | S1: F0/6                     |
| 200     | Management       | S1: VLAN 200                 |
| 999     | Parking_Lot      | S1: F0/1-4, F0/7-24, G0/1-2  |
| 1000    | Native           | N/A                          |


## Задачи:

#### Часть 1. Создание топологии сети и базовая настройка.
#### Часть 2: Настройка двух DHCP серверов на R1
#### Часть 3: Настройка DHCP Relay на R2

### Часть 1: Создание сети и настройка основных параметров устройства.

#### Cхема лабораторного стенда, выполненная в GNS3:
![Image alt](https://github.com/anrent/otus-networks/blob/main/labs/lab03/DHCPv4/topo.png)

#### Разработка адресации

Нарезаем 192.168.1.0/24 в соответствии со следующими требованиями:

     Одна подсеть, «Подсеть A», поддерживает 58 хостов (клиентская VLAN на R1).

Подсеть A: 192.168.1.0/26 (192.168.1.1–192.168.1.63)

     Одна подсеть, «Подсеть B», поддерживает 28 хостов (управляющая VLAN на R1).

Подсеть B: 192.168.1.64/27 (192.168.1.65–192.168.1.95)

     Одна подсеть, «Подсеть C», поддерживает 12 хостов (клиентская сеть на R2).

Подсеть C: 192.168.1.96/28 (192.168.1.97-192.168.1.111)


#### Команды предварительной настройки

```
enable
conf t
no ip domain-lookup                        //Отключение DNS lookup, чтобы устройство не пыталось преобразовать неправильно введенные команды, как если бы они были именами хостов.
service password-encryption                //Шифрование паролей     
hostname S2                                //R1 R2 S1 соответственно
enable secret class                        //Включение запроса пароля для привелигированного режима
line console 0                             //Конфигурация консольной линии
password cisco                             //Пароль, запршиваемый при подключении к устройству через консоль
logging synchronous                        //Синхронизация консольных лог сообщений с вводом команд
exit
line vty 0 15                              //Конфигурация vty линий
login                                      //Необходимость ввода общего пароля
password cisco                             //Пароль, запршиваемый при подключении к устройству через vty линии
exit
banner motd "Hello there"                  //Баннер
interface vlan 1
ip address 192.168.1.1 255.255.255.0       //Адреса в таблице адресации
exit
copy running-config startup-config         //сохранение конфигурации
```


